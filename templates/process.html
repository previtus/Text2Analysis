{% extends 'layout.html' %}

{% block styles %}
    <!--<link rel="stylesheet" href="{{ url_for('static', filename='css/forms.css') }}" rel="stylesheet" type="text/css">-->
    <link rel="stylesheet" href="static/css/forms.css" rel="stylesheet" type="text/css">
{% endblock %}


{% block content %}
<div class="formwrapper">
  <h1 class="title">Text2Analysis</h1>
  <p>
    Automated and simplified pipeline for NLP analysis of your texts. Using Gensim and LDA modelling. Developed at the Creative Computing Institute at UAL.
  </p>

  <h2 class="title">Analysis of the text:</h2>
  <p>
    Text of {{ n_chars }} characters, processed as {{ n_documents }} sentences (or documents). The analysis took {{ n_seconds_analysis }} seconds.
  </p>

  <h2 class="title">Topic wordclouds analysis</h2>
  <div style="text-align: center;">
  {% for i in range(n_topics) %}
   <span><img src="static/wordclouds_{{ '%02d' % i }}.png?v={{rand_i}}" width="200px"></span>
  {% endfor %}
  </div>

  <h2 class="title">pyLDAviz analysis</h2>
  <iframe class="pyldaiframe" src="last" width="100%" height="800px"></iframe>

  <h2 class="title">Download results:</h2>
  <p>See pyLDAviz fullscreen: <a href="last?v={{rand_i}}">here</a>.</p>
  <p>Download all data: <a href="download?v={{rand_i}}">download as zip <img src="static/img/download-solid.svg" width="40px" alt="Download!"></a></p>




  <h2 class="title">Analysis output / debug:</h2>
  <div class="codeblock" style="background-color: #2b2b2b; color: #a9b7c6; padding: 20px;">
    <code>
    {% if analysis_reply %}{{ analysis_reply }}{% else %}(No message!){% endif %}
    </code>
  </div>

</div>
{% endblock %}

